(function(e,t){function L(a,b,c){var d=a.children(b.headerTag),f=a.children(b.bodyTag);d.length>f.length?j("One or more corresponding step {0} are missing.","contents"):d.length<f.length&&j("One or more corresponding step {0} are missing.","titles");var g=b.startIndex;c.stepCount=d.length;b.saveState&&e.cookie&&(b=e.cookie("jQu3ry_5teps_St@te_"+m(a)),b=parseInt(b,0),!isNaN(b)&&b<c.stepCount&&(g=b));c.currentIndex=g;d.each(function(b){var c=e(this),b=f.eq(b),d=b.data("mode"),d=d==null?k.html:r(k,/^\s*$/.test(d)||
isNaN(d)?d:parseInt(d,0)),g=d===k.html||b.data("url")===t?"":b.data("url"),i=d!==k.html&&b.data("loaded")==="1",c=e.extend({},C,{title:c.html(),content:d===k.html?b.html():"",contentUrl:g,contentMode:d,contentLoaded:i});a.data("steps").push(c)})}function D(a,b){var c=a.find(".steps li").eq(b.currentIndex);a.triggerHandler("finishing",[b.currentIndex])?(c.addClass("done").removeClass("error"),a.triggerHandler("finished",[b.currentIndex])):c.addClass("error")}function u(a){var b=a.data("eventNamespace");
b==null&&(b="."+m(a),a.data("eventNamespace",b));return b}function p(a,b){var c=m(a);return a.find("#"+c+"-t-"+b)}function v(a,b){var c=m(a);return a.find("#"+c+"-p-"+b)}function l(a){return a.data("options")}function i(a){return a.data("state")}function w(a,b){var c=a.data("steps");(b<0||b>=c.length)&&j("Index out of range.");return c[b]}function m(a){var b=a.data("uid");b==null&&(b=a._id(),b==null&&(b="steps-uid-".concat(x),a._id(b)),x++,a.data("uid",b));return b}function r(a,b){E("enumType",a);
E("keyOrValue",b);if(typeof b==="string"){var c=a[b];c===t&&j("The enum key '{0}' does not exist.",b);return c}else if(typeof b==="number"){for(c in a)if(a[c]===b)return b;j("Invalid enum value '{0}'.",b)}else j("Invalid key or value type.")}function F(a,b,c,d,f){(d<0||d>=c.stepCount)&&j("Index out of range.");if(!(b.forceMoveForward&&d<c.currentIndex)){var e=c.currentIndex;f||a.triggerHandler("stepChanging",[c.currentIndex,d])?(c.currentIndex=d,y(a,b,c),z(a,b,c,e),s(a,b,c),G(a,b,c),M(a,b,c,d,e,function(){a.triggerHandler("stepChanged",
[d,e])})):a.find(".steps li").eq(e).addClass("error");return!0}}function N(a){var b=e.extend(!0,{},O,a);return this.each(function(){var a=e(this),d={currentIndex:b.startIndex,currentStep:null,stepCount:0,transitionElement:null};a.data("options",b);a.data("state",d);a.data("steps",[]);L(a,b,d);P(a,b,d);d=u(a);a.bind("canceled"+d,b.onCanceled);a.bind("contentLoaded"+d,b.onContentLoaded);a.bind("finishing"+d,b.onFinishing);a.bind("finished"+d,b.onFinished);a.bind("init"+d,b.onInit);a.bind("stepChanging"+
d,b.onStepChanging);a.bind("stepChanged"+d,b.onStepChanged);a.bind("saveTemp"+d,b.saveTemp);b.enableKeyNavigation&&a.bind("keyup"+d,Q);a.find(".actions a").bind("click"+d,R);b.autoFocus&&x===0&&p(a,b.startIndex).focus();a.triggerHandler("init",[b.startIndex])})}function H(a,b,c,d,f){(d<0||d>c.stepCount)&&j("Index out of range.");f=e.extend({},C,f);a.data("steps").splice(d,0,f);c.currentIndex!==c.stepCount&&c.currentIndex>=d&&(c.currentIndex++,y(a,b,c));c.stepCount++;var g=a.find(".content"),h=e("<{0}>{1}</{0}>".format(b.headerTag,
f.title)),n=e("<{0}></{0}>".format(b.bodyTag));(f.contentMode==null||f.contentMode===k.html)&&n.html(f.content);d===0?g.prepend(n).prepend(h):v(a,d-1).after(n).after(h);I(a,c,n,d);J(a,b,c,h,d);K(a,b,c,d);d===c.currentIndex&&z(a,b,c);s(a,b,c);return a}function Q(a){var b=e(this),c=l(b),d=i(b);if(c.suppressPaginationOnFocus&&b.find(":focus").is(":input"))return a.preventDefault(),!1;var f={left:37,right:39};a.keyCode===f.left?(a.preventDefault(),q(b,c,d,d.currentIndex-1)):a.keyCode===f.right&&(a.preventDefault(),
q(b,c,d,d.currentIndex+1))}function G(a,b,c){if(c.stepCount>0){var d=c.currentIndex,f=w(a,d);if(!b.enableContentCache||!f.contentLoaded)switch(r(k,f.contentMode)){case k.iframe:a.find(".content > .body").eq(c.currentIndex).empty().html('<iframe src="'+f.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case k.async:var g=v(a,d)._aria("busy","true").empty().append(A(b.loadingTemplate,{text:b.labels.loading}));e.ajax({url:f.contentUrl,cache:!1}).done(function(b){g.empty().html(b)._aria("busy",
"false").data("loaded","1");a.triggerHandler("contentLoaded",[d])})}}}function q(a,b,c,d){var f=c.currentIndex;return d>=0&&d<c.stepCount&&!(b.forceMoveForward&&d<c.currentIndex)?(a=p(a,d),b=a.parent(),d=b.hasClass("disabled"),b._enableAria(),a.click(),f===c.currentIndex&&d?(b._enableAria(!1),!1):!0):!1}function R(a){a.preventDefault();var b=e(this),a=b.parent().parent().parent().parent(),c=l(a),d=i(a),b=b.attr("href");switch(b.substring(b.lastIndexOf("#")+1)){case "cancel":a.triggerHandler("canceled");
break;case "finish":D(a,d);break;case "next":q(a,c,d,d.currentIndex+1);break;case "previous":q(a,c,d,d.currentIndex-1);break;case "savetemp":a.triggerHandler("saveTemp")}}function s(a,b,c){if(b.enablePagination){var d=a.find(".actions a[href$='#finish']").parent(),f=a.find(".actions a[href$='#next']").parent();b.forceMoveForward||a.find(".actions a[href$='#previous']").parent()._enableAria(c.currentIndex>0);b.enableFinishButton&&b.showFinishButtonAlways?(d._enableAria(c.stepCount>0),f._enableAria(c.stepCount>
1&&c.stepCount>c.currentIndex+1)):(d._showAria(b.enableFinishButton&&c.stepCount===c.currentIndex+1),f._showAria(c.stepCount===0||c.stepCount>c.currentIndex+1)._enableAria(c.stepCount>c.currentIndex+1||!b.enableFinishButton))}}function z(a,b,c,d){var f=p(a,c.currentIndex),g=e('<span class="current-info audible">'+b.labels.current+" </span>"),b=a.find(".content > .title");d!=null&&(a=p(a,d),a.parent().addClass("done").removeClass("error")._selectAria(!1),b.eq(d).removeClass("current").next(".body").removeClass("current"),
g=a.find(".current-info"),f.focus());f.prepend(g).parent()._selectAria().removeClass("done")._enableAria();b.eq(c.currentIndex).addClass("current").next(".body").addClass("current")}function K(a,b,c,d){for(var f=m(a);d<c.stepCount;d++){var e=f+"-t-"+d,h=f+"-p-"+d,n=f+"-h-"+d,i=a.find(".title").eq(d)._id(n);a.find(".steps a").eq(d)._id(e)._aria("controls",h).attr("href","#"+n).html(A(b.titleTemplate,{index:d+1,title:i.html()}));a.find(".body").eq(d)._id(h)._aria("labelledby",n)}}function P(a,b,c){var d=
r(B,b.stepsOrientation)===B.vertical?" vertical":"",f=e('<{0} class="{1}">{2}</{0}>'.format(b.contentContainerTag,"content "+b.clearFixCssClass,a.html())),g=e('<{0} class="{1}">{2}</{0}>'.format(b.stepsContainerTag,"steps "+b.clearFixCssClass,'<ul role="tablist"></ul>')),h=f.children(b.headerTag),i=f.children(b.bodyTag);a.attr("role","application").empty().append(g).append(f).addClass(b.cssClass+" "+b.clearFixCssClass+d);i.each(function(b){I(a,c,e(this),b)});h.each(function(d){J(a,b,c,e(this),d)});
z(a,b,c);S(a,b,c)}function I(a,b,c,d){a=m(a);c._id(a+"-p-"+d).attr("role","tabpanel")._aria("labelledby",a+"-h-"+d).addClass("body")._showAria(b.currentIndex===d)}function S(a,b,c){if(b.enablePagination){var d="";b.enableSaveTempButton&&(d+='<li><a href="#{0}" role="menuitem">{1}</a></li>'.format("savetemp",b.labels.savetemp));b.forceMoveForward||(d+='<li><a href="#{0}" role="menuitem">{1}</a></li>'.format("previous",b.labels.previous));d+='<li><a href="#{0}" role="menuitem">{1}</a></li>'.format("next",
b.labels.next);b.enableFinishButton&&(d+='<li><a href="#{0}" role="menuitem">{1}</a></li>'.format("finish",b.labels.finish));b.enableCancelButton&&(d+='<li><a href="#{0}" role="menuitem">{1}</a></li>'.format("cancel",b.labels.cancel));a.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(b.actionContainerTag,b.clearFixCssClass,b.labels.pagination,d));s(a,b,c);G(a,b,c)}}function A(a,b){for(var c=a.match(/#([a-z]*)#/gi),d=0;d<c.length;d++){var f=c[d],e=f.substring(1,
f.length-1);b[e]===t&&j("The key '{0}' does not exist in the substitute collection!",e);a=a.replace(f,b[e])}return a}function J(a,b,c,d,f){var g=m(a),h=g+"-t-"+f,i=g+"-p-"+f,g=g+"-h-"+f,j=a.find(".steps > ul"),k=A(b.titleTemplate,{index:f+1,title:d.html()}),h=e('<li role="tab"><a id="'+h+'" href="#'+g+'" aria-controls="'+i+'">'+k+"</a></li>");h._enableAria(b.enableAllSteps||c.currentIndex>f);c.currentIndex>f&&h.addClass("done");d._id(g).attr("tabindex","-1").addClass("title");f===0?j.prepend(h):j.find("li").eq(f-
1).after(h);f===0&&j.find("li").removeClass("first").eq(f).addClass("first");f===c.stepCount-1&&j.find("li").removeClass("last").eq(f).addClass("last");h.children("a").bind("click"+u(a),T)}function y(a,b,c){b.saveState&&e.cookie&&e.cookie("jQu3ry_5teps_St@te_"+m(a),c.currentIndex)}function M(a,b,c,d,f,g){var h=a.find(".content > .body"),a=r(o,b.transitionEffect),j=b.transitionEffectSpeed,b=h.eq(d),h=h.eq(f);switch(a){case o.fade:case o.slide:var d=a===o.fade?"fadeOut":"slideUp",k=a===o.fade?"fadeIn":
"slideDown";c.transitionElement=b;h[d](j,function(){var a=e(this)._showAria(!1).parent().parent(),a=i(a);if(a.transitionElement)a.transitionElement[k](j,function(){e(this)._showAria()}).promise().done(g),a.transitionElement=null});break;case o.slideLeft:c=h.outerWidth(!0);a=d>f?c:-c;e.when(h.animate({left:d>f?-c:c},j,function(){e(this)._showAria(!1)}),b.css("left",a+"px")._showAria().animate({left:0},j)).done(g);break;default:e.when(h._showAria(!1),b._showAria()).done(g)}}function T(a){a.preventDefault();
var b=e(this),a=b.parent().parent().parent().parent(),c=l(a),d=i(a),f=d.currentIndex;b.parent().is(":not(.disabled):not(.current)")&&(b=b.attr("href"),b=parseInt(b.substring(b.lastIndexOf("-")+1),0),F(a,c,d,b,!1));if(f===d.currentIndex)return p(a,f).focus(),!1}function j(a){arguments.length>1&&(a=a.format(Array.prototype.slice.call(arguments,1)));throw Error(a);}function E(a,b){b==null&&j("The argument '{0}' is null or undefined.",a)}e.fn.extend({_aria:function(a,b){return this.attr("aria-"+a,b)},
_removeAria:function(a){return this.removeAttr("aria-"+a)},_enableAria:function(a){return a==null||a?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(a){return a==null||a?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(a){return a==null||a?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(a){return a?this.attr("id",
a):this.attr("id")}});if(!String.prototype.format)String.prototype.format=function(){for(var a=arguments.length===1&&e.isArray(arguments[0])?arguments[0]:arguments,b=this,c=0;c<a.length;c++)b=b.replace(RegExp("\\{"+c+"\\}","gm"),a[c]);return b};var x=0;e.fn.steps=function(a){if(e.fn.steps[a])return e.fn.steps[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return N.apply(this,arguments);else e.error("Method "+a+" does not exist on jQuery.steps")};e.fn.steps.add=
function(a){var b=i(this);return H(this,l(this),b,b.stepCount,a)};e.fn.steps.destroy=function(){var a=l(this),b=u(this);this.unbind(b).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(b);this.removeClass(a.clearFixCssClass+" vertical");a=this.find(".content > *");a.removeData("loaded").removeData("mode").removeData("url");a.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");
this.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();a=e('<{0} class="{1}"></{0}>'.format(this.get(0).tagName,this.attr("class")));b=this._id();b!=null&&b!==""&&a._id(b);a.html(this.find(".content").html());this.after(a);this.remove();return a};e.fn.steps.finish=function(){D(this,i(this))};e.fn.steps.getCurrentIndex=function(){return i(this).currentIndex};e.fn.steps.getCurrentStep=function(){return w(this,i(this).currentIndex)};e.fn.steps.getStep=function(a){return w(this,
a)};e.fn.steps.insert=function(a,b){return H(this,l(this),i(this),a,b)};e.fn.steps.next=function(){var a=l(this),b=i(this);return q(this,a,b,b.currentIndex+1)};e.fn.steps.previous=function(){var a=l(this),b=i(this);return q(this,a,b,b.currentIndex-1)};e.fn.steps.remove=function(a){var b=l(this),c=i(this);a<0||a>=c.stepCount||c.currentIndex===a?a=!1:(this.data("steps").splice(a,1),c.currentIndex>a&&(c.currentIndex--,y(this,b,c)),c.stepCount--,this.find("#"+m(this)+"-h-"+a).remove(),v(this,a).remove(),
p(this,a).parent().remove(),a===0&&this.find(".steps li").first().addClass("first"),a===c.stepCount&&this.find(".steps li").eq(a).addClass("last"),K(this,b,c,a),s(this,b,c),a=!0);return a};e.fn.steps.setStep=function(a){return F(this,l(this),i(this),a,!0)};e.fn.steps.skip=function(){throw Error("Not yet implemented!");};var k=e.fn.steps.contentMode={html:0,iframe:1,async:2},B=e.fn.steps.stepsOrientation={horizontal:0,vertical:1},o=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},C=
e.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:k.html,contentLoaded:!1},O=e.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:B.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,
enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,enableSaveTempButton:!1,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:o.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",
next:"Next",previous:"Previous",loading:"Loading ...",savetemp:"Save Temp"}}})(jQuery);

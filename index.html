<!doctype html>
<html lang="en">
<head>
    <title>Widget</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/w3.css" />
    <style>
        body {
            background-color: lightslategray;
        }

        .item1 {
            grid-area: header;
            height: 10px;
        }

        .item2 {
            grid-area: time;
            text-align: center;
        }

        .item3 {
            grid-area: bottom;
        }

        .grid-container {
            display: grid;
            grid-template:
                'header'
                'time'
                'bottom';
            justify-content: center;
        }

        .container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding-top: 23.23%
        }

        /* Add a black background color to the top navigation */
        .topnav {
            background-color: #333;
            overflow: hidden;
        }

        /* Right-aligned section inside the top navigation */
        .topnav-right {
          float: right;
        }
    </style>
</head>

<body class="bd" id="bd">

     <div class="topnav w3-black">
         <div class="topnav-right">
             <span style="padding-right: 10px"><button onclick="load_weather()">API KEY</button></span>
         </div>
     </div>

    <div class="grid-container">
        <div class="item1"></div>
        <div class="item2">
            <p style="font-size: 60px">
                <span id="date"></span><br />
                <span id="DOW"></span><br />
                <span id="time"></span><br />
                <span id="key"></span>
            </p>
        </div>
        <div class="item3">
            <div id="openweathermap-widget-11"></div>
            <script src='https://openweathermap.org/themes/openweathermap/assets/vendor/owm/js/d3.min.js'></script>
            <script>
                function load_weather() {
                    let ow_key = prompt("enter weather api key", "key");
                    window.myWidgetParam ? window.myWidgetParam : window.myWidgetParam = [];
                    window.myWidgetParam.push({id: 11,cityid: '1673820',appid: ow_key,units: 'metric',containerid: 'openweathermap-widget-11',  });
                    (function() {var script = document.createElement('script');script.async = true;script.charset = "utf-8";
                    script.src = "https://openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";
                    var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(script, s);
                     })();
                }
            </script>
        </div>
    </div>
</body>
</html>
<script>
    var d = new Date();
    var weekday = new Array(7);
    weekday[0] = "Sunday";
    weekday[1] = "Monday";
    weekday[2] = "Tuesday";
    weekday[3] = "Wednesday";
    weekday[4] = "Thursday";
    weekday[5] = "Friday";
    weekday[6] = "Saturday";

    var n = weekday[d.getDay()];
    setInterval(function () {
        var dt = new Date();
        document.getElementById('date').innerHTML = dt.toLocaleDateString();
        document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    }, 1000);
    var dt = new Date();
    document.getElementById('date').innerHTML = dt.toLocaleDateString();
    document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    document.getElementById('DOW').innerHTML = weekday[dt.getDay()];

</script>
 <script>
// Get the modal
var modal = document.getElementById('id01');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
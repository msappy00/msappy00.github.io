<!doctype html>
<html lang="en">
<head>
    <title>Widget</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/w3.css" />
    <style>
        body {
            background-color: lightslategray;
        }

        .item1 {
            grid-area: header;
            height: 10px;
        }

        .item2 {
            grid-area: time;
            text-align: center;
        }

        .item3 {
            grid-area: bottom;
        }

        .grid-container {
            display: grid;
            grid-template:
                'header'
                'time'
                'bottom';
            justify-content: center;
        }

        .container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding-top: 23.23%
        }

        /* Add a black background color to the top navigation */
        .topnav {
            background-color: #333;
            overflow: hidden;
        }

        /* Right-aligned section inside the top navigation */
        .topnav-right {
          float: right;
        }

         /* The Modal (background) */
        .modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          left: 50px;
          top: 50px;
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
          padding-top: 60px;
        }

        /* Modal Content/Box */
        .modal-content {
          background-color: #fefefe;
          margin: 5px auto; /* 15% from the top and centered */
          border: 1px solid #888;
          width: 80%; /* Could be more or less, depending on screen size */
        }

        /* The Close Button */
        .close {
          /* Position it in the top right corner outside of the modal */
          position: absolute;
          right: 25px;
          top: 0;
          color: #000;
          font-size: 35px;
          font-weight: bold;
        }

        /* Close button on hover */
        .close:hover,
        .close:focus {
          color: red;
          cursor: pointer;
        }

        /* Add Zoom Animation */
        .animate {
          -webkit-animation: animatezoom 0.6s;
          animation: animatezoom 0.6s
        }

        @-webkit-keyframes animatezoom {
          from {-webkit-transform: scale(0)}
          to {-webkit-transform: scale(1)}
        }

        @keyframes animatezoom {
          from {transform: scale(0)}
          to {transform: scale(1)}
        }
    </style>
    <meta http-equiv="refresh" content="900">
</head>

<body class="bd" id="bd">

     <div class="topnav w3-black">
         <div class="topnav-right">
             <span style="padding-right: 10px"><button onclick="document.getElementById('id01').style.display='block'">API KEY</button></span>
         </div>
     </div>

          <!-- The Modal -->
    <div id="id01" class="modal">
      <span onclick="document.getElementById('id01').style.display='none'"
    class="close" title="Close Modal">&times;</span>

      <!-- Modal Content -->
     <form action="#">

        <div class="container">
          <input type="password" placeholder="Enter Weather API Key" id="psw" required>
          <button onclick="load_weather(form)">Submit</button>
        </div>
      </form>
        <?
            echo $psw;
        ?>
    </div>

    <div class="grid-container">
        <div class="item1"></div>
        <div class="item2">
            <p style="font-size: 60px">
                <span id="date"></span><br />
                <span id="DOW"></span><br />
                <span id="time"></span><br />
                <span id="key"></span>
            </p>
        </div>
        <div class="item3">
            <div id="openweathermap-widget-11"></div>
            <script src='https://openweathermap.org/themes/openweathermap/assets/vendor/owm/js/d3.min.js'></script>
            <script src="js/weather_api.js"></script>
        </div>
    </div>
</body>
</html>
<script>
    var d = new Date();
    var weekday = new Array(7);
    weekday[0] = "Sunday";
    weekday[1] = "Monday";
    weekday[2] = "Tuesday";
    weekday[3] = "Wednesday";
    weekday[4] = "Thursday";
    weekday[5] = "Friday";
    weekday[6] = "Saturday";

    var n = weekday[d.getDay()];
    setInterval(function () {
        var dt = new Date();
        document.getElementById('date').innerHTML = dt.toLocaleDateString();
        document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    }, 1000);
    var dt = new Date();
    document.getElementById('date').innerHTML = dt.toLocaleDateString();
    document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    document.getElementById('DOW').innerHTML = weekday[dt.getDay()];

</script>
 <script>
// Get the modal
var modal = document.getElementById('id01');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
<!doctype html>
<html lang="en">
<head>
    <title>Widget</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/w3.css" />
    <style>
        body {
            background-color: lightslategray;
        }

        .item1 {
            grid-area: header;
            height: 200px;
        }

        .item2 {
            grid-area: time;
            text-align: center;
        }

        .item3 {
            grid-area: middle;
        }

        .item4 {
            grid-area: bottom;
        }

        .grid-container {
            display: grid;
            grid-template:
                'header header header'
                'time middle middle'
                'time bottom bottom';
        }

        .container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding-top: 23.23%
        }

        iframe {
            position: absolute;
            width: 800px;
            height: 400px;
            border: none;
        }
    </style>
</head>

<body class="bd" id="bd">
    <div class="grid-container">
        <div class="item1"></div>
        <div class="item2">
            <p style="font-size: 60px">
                <span id="date"></span><br />
                <span id="DOW"></span><br />
                <span id="time"></span>
            </p>
        </div>
        <div class="item3">
            <iframe src="time.html"></iframe>
        </div>
        <div class="item4">
            <script id="weather" type="text/javascript" src='https://darksky.net/widget/default/22.6203,120.312/ca12/en.js?width=100%&height=400&title=Kaohsiung City, Taiwan&textColor=000000&bgColor=transparent&transparency=true&skyColor=undefined&fontFamily=Default&customFont=&units=ca&htColor=333333&ltColor=C7C7C7&displaySum=yes&displayHeader=yes'></script>
        </div>
    </div>
</body>
</html>
<script>
    var d = new Date();
    var weekday = new Array(7);
    weekday[0] = "Sunday";
    weekday[1] = "Monday";
    weekday[2] = "Tuesday";
    weekday[3] = "Wednesday";
    weekday[4] = "Thursday";
    weekday[5] = "Friday";
    weekday[6] = "Saturday";

    var n = weekday[d.getDay()];
    setInterval(function () {
        var dt = new Date();
        document.getElementById('date').innerHTML = dt.toLocaleDateString();
        document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    }, 1000);
    var dt = new Date();
    document.getElementById('date').innerHTML = dt.toLocaleDateString();
    document.getElementById('time').innerHTML = dt.toLocaleTimeString();
    document.getElementById('DOW').innerHTML = weekday[dt.getDay()];
    var src = $('#weather').attr('src');
    setInterval(function () {
        document.getElementById('weather').src = "";
        document.getElementById('weather').src = src;
    }, 900000);
</script>